<!-- SPDX-FileCopyrightText: 2022-2023 Dennis Gläser <dennis.glaeser@iws.uni-stuttgart.de> -->
<!-- SPDX-License-Identifier: MIT -->
<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GridFormat: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- ... other metadata & script includes ... -->
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GridFormat<span id="projectnumber">&#160;0.2.1</span>
   </div>
   <div id="projectbrief">I/O-Library for grid-like data structures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Introduction </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="introduction"></a></p>
<p><a href="https://isocpp.org/std/the-standard"><img src="https://img.shields.io/badge/C++-20-blue.svg?style=flat&amp;logo=c%2B%2B" alt="C++ Standard" style="pointer-events: none;" class="inline"/></a> <a href="https://dglaeser.github.io/gridformat"><img src="https://github.com/dglaeser/gridformat/actions/workflows/pages.yml/badge.svg" alt="Pages" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/dglaeser/gridformat/actions?query=branch%3Amain+"><img src="https://github.com/dglaeser/gridformat/actions/workflows/main.yml/badge.svg" alt="Test suite" style="pointer-events: none;" class="inline"/></a> <a href="https://dglaeser.github.io/gridformat/test_coverage"><img src="https://dglaeser.github.io/gridformat/coverage.svg" alt="Coverage Report" style="pointer-events: none;" class="inline"/></a> <a href="https://dglaeser.github.io/gridformat"><img src="https://img.shields.io/badge/doc-API-ff69b4" alt="API Documentation" class="inline"/></a> <a href="https://api.reuse.software/info/git.fsfe.org/reuse/api"><img src="https://api.reuse.software/badge/git.fsfe.org/reuse/api" alt="REUSE status" class="inline"/></a> <a href="https://doi.org/10.21105/joss.05778"><img src="https://joss.theoj.org/papers/10.21105/joss.05778/status.svg" alt="JOSS" style="pointer-events: none;" class="inline"/></a> <a href="https://doi.org/10.5281/zenodo.10008061"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.10008061.svg" alt="DOI" style="pointer-events: none;" class="inline"/></a></p>
<p><code>GridFormat</code> is a header-only C++ library for reading/writing data from/to standardized grid file formats that are supported by visualization tools such as e.g. <a href="https://www.paraview.org/">ParaView</a>. Thus, applications that operate on grid-like data structures such as numerical simulations, GIS or computational geometry applications, can leverage <code>GridFormat</code> to import/export their data from/into interoperable file formats. The typical use case for <code>GridFormat</code> is within codes for numerical simulations, for visualization of results or for importing them for further processing. A variety of simulation frameworks exist, such as <a href="https://www.dune-project.org/">Dune</a>, <a href="https://dumux.org/">DuMuX</a>, <a href="https://www.dealii.org/">Deal.II</a>, <a href="https://fenicsproject.org/">Fenics</a> or <a href="https://mfem.org/">MFEM</a>, which usually provide mechanisms to export/import data produced with the framework into some file formats. However, there are situations in which one wants to use a format that the framework does not support, or, use some features of the format specification that are not implemented in the framework. <code>GridFormat</code> aims to provide access to a variety of file formats through a unified interface and without the need to convert any data or to use a specific data structure to represent computational grids. Using generic programming and traits classes, <code>GridFormat</code> fully operates on the user-given data structures, thereby minimizing the runtime overhead. <code>GridFormat</code> also supports writing files from parallel computations that use <a href="https://de.wikipedia.org/wiki/Message_Passing_Interface">MPI</a>. Ideally, simulation frameworks use <code>GridFormat</code> under-the-hood to avoid duplicate implementation efforts, and implement support for new formats into <code>GridFormat</code> such that they are directly available to all other frameworks that utilize it.</p>
<p>Currently, <code>GridFormat</code> is focused on <a href="https://examples.vtk.org/site/VTKFileFormats/">VTK file formats</a>. However, the API is suitable for any grid format describing one of the supported <a class="el" href="grid-concepts.html#md____w_gridformat_gridformat_docs_pages_grid_concepts">grid concepts</a>. Contributions are welcomed, see below for information on how to contribute.</p>
<h1><a class="anchor" id="quick-start"></a>
Quick Start</h1>
<p>Prerequisites:</p>
<ul>
<li>C++-compiler with C++-20-support (tests run with <code>gcc-12/13</code>, <code>clang++-16</code>)</li>
<li><code>cmake</code> (tests run with cmake-3.26)</li>
</ul>
<p>It is easiest to integrate <code>GridFormat</code> either as a <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">git submodule</a> or via the <code>FetchContent</code> module of <code>cmake</code>. A minimal example (using <code>FetchContent</code>) of a project using <code>GridFormat</code> to write a <a href="https://examples.vtk.org/site/VTKFileFormats/#unstructuredgrid">VTU</a> file and read it back in may look like this:</p>
<div class="fragment"><div class="line">cmake_minimum_required(VERSION 3.22)</div>
<div class="line">project(some_app_using_gridformat)</div>
<div class="line"> </div>
<div class="line">include(FetchContent)</div>
<div class="line">FetchContent_Declare(</div>
<div class="line">    gridformat</div>
<div class="line">    GIT_REPOSITORY https://github.com/dglaeser/gridformat</div>
<div class="line">    GIT_TAG main</div>
<div class="line">    GIT_PROGRESS true</div>
<div class="line">    GIT_SHALLOW true</div>
<div class="line">    GIT_SUBMODULES_RECURSE OFF</div>
<div class="line">)</div>
<div class="line">FetchContent_MakeAvailable(gridformat)</div>
<div class="line"> </div>
<div class="line">add_executable(my_app my_app.cpp)</div>
<div class="line">target_link_libraries(my_app PRIVATE gridformat::gridformat)</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="gridformat_8hpp.html">gridformat/gridformat.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">double</span> f(<span class="keyword">const</span> std::array&lt;double, 2&gt;&amp; x) { <span class="keywordflow">return</span> x[0]*x[1]; }</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main () {</div>
<div class="line">    <span class="comment">// For this example we have no user-defined grid type. Let&#39;s just use a predefined one...</span></div>
<div class="line">    <a class="code hl_class" href="classGridFormat_1_1ImageGrid.html">GridFormat::ImageGrid&lt;2, double&gt;</a> grid{</div>
<div class="line">        {1.0, 1.0}, <span class="comment">// domain size</span></div>
<div class="line">        {10, 12}    <span class="comment">// number of cells (pixels) in each direction</span></div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// This shows the `GridFormat` API: Construct a writer for the desired format, and add</span></div>
<div class="line">    <span class="comment">// point/cell fields as lambdas. Metadata can be added directly and can be ranges or scalars.</span></div>
<div class="line">    <span class="comment">// If the lambdas are not suitable or inefficient for your data structures, you can also pass</span></div>
<div class="line">    <span class="comment">// a (custom) implementation of `GridFormat::Field` (see documentation)</span></div>
<div class="line">    <a class="code hl_class" href="classGridFormat_1_1Writer.html">GridFormat::Writer</a> writer{GridFormat::vtu, grid};</div>
<div class="line">    writer.<a class="code hl_function" href="classGridFormat_1_1Writer.html#aceba61d4867ddb47d0286827fae8cfc1">set_meta_data</a>(<span class="stringliteral">&quot;some_metadata&quot;</span>, <span class="stringliteral">&quot;i am metadata&quot;</span>);</div>
<div class="line">    writer.set_point_field(<span class="stringliteral">&quot;point_field&quot;</span>, [&amp;] (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; point) { <span class="keywordflow">return</span> f(grid.position(point)); });</div>
<div class="line">    writer.set_cell_field(<span class="stringliteral">&quot;cell_field&quot;</span>, [&amp;] (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; cell) { <span class="keywordflow">return</span> f(grid.center(cell)); });</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span> written_file = writer.write(<span class="stringliteral">&quot;my_test_file&quot;</span>); <span class="comment">// extension is added by the writer</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// read the data back in (here we create a generic reader, but you can also select specific ones)</span></div>
<div class="line">    <a class="code hl_class" href="classGridFormat_1_1Reader.html">GridFormat::Reader</a> reader; reader.<a class="code hl_function" href="classGridFormat_1_1GridReader.html#a6dc525bc4e87929a93ed07f60f7e95b9">open</a>(written_file);</div>
<div class="line">    std::vector&lt;double&gt; cell_field_values(reader.<a class="code hl_function" href="classGridFormat_1_1GridReader.html#abc668e99c9a53df337797cdcdeb9a9d3">number_of_cells</a>());</div>
<div class="line">    std::vector&lt;double&gt; point_field_values(reader.<a class="code hl_function" href="classGridFormat_1_1GridReader.html#ad6ab48d38abf1273d9642082ec8f7459">number_of_points</a>());</div>
<div class="line">    reader.<a class="code hl_function" href="classGridFormat_1_1GridReader.html#a938af138287ba87dc3ada72e0babee2b">cell_field</a>(<span class="stringliteral">&quot;cell_field&quot;</span>)-&gt;export_to(cell_field_values);</div>
<div class="line">    reader.<a class="code hl_function" href="classGridFormat_1_1GridReader.html#a88d13f651a8a7df9d7cd5ea1328cef53">point_field</a>(<span class="stringliteral">&quot;point_field&quot;</span>)-&gt;export_to(point_field_values);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassGridFormat_1_1GridReader_html_a6dc525bc4e87929a93ed07f60f7e95b9"><div class="ttname"><a href="classGridFormat_1_1GridReader.html#a6dc525bc4e87929a93ed07f60f7e95b9">GridFormat::GridReader::open</a></div><div class="ttdeci">void open(const std::string &amp;filename)</div><div class="ttdoc">Open the given grid file.</div><div class="ttdef"><b>Definition:</b> reader.hpp:78</div></div>
<div class="ttc" id="aclassGridFormat_1_1GridReader_html_a88d13f651a8a7df9d7cd5ea1328cef53"><div class="ttname"><a href="classGridFormat_1_1GridReader.html#a88d13f651a8a7df9d7cd5ea1328cef53">GridFormat::GridReader::point_field</a></div><div class="ttdeci">FieldPtr point_field(std::string_view name) const</div><div class="ttdoc">Return the point field with the given name.</div><div class="ttdef"><b>Definition:</b> reader.hpp:216</div></div>
<div class="ttc" id="aclassGridFormat_1_1GridReader_html_a938af138287ba87dc3ada72e0babee2b"><div class="ttname"><a href="classGridFormat_1_1GridReader.html#a938af138287ba87dc3ada72e0babee2b">GridFormat::GridReader::cell_field</a></div><div class="ttdeci">FieldPtr cell_field(std::string_view name) const</div><div class="ttdoc">Return the cell field with the given name.</div><div class="ttdef"><b>Definition:</b> reader.hpp:211</div></div>
<div class="ttc" id="aclassGridFormat_1_1GridReader_html_abc668e99c9a53df337797cdcdeb9a9d3"><div class="ttname"><a href="classGridFormat_1_1GridReader.html#abc668e99c9a53df337797cdcdeb9a9d3">GridFormat::GridReader::number_of_cells</a></div><div class="ttdeci">std::size_t number_of_cells() const</div><div class="ttdoc">Return the number of cells in the grid read from the file.</div><div class="ttdef"><b>Definition:</b> reader.hpp:97</div></div>
<div class="ttc" id="aclassGridFormat_1_1GridReader_html_ad6ab48d38abf1273d9642082ec8f7459"><div class="ttname"><a href="classGridFormat_1_1GridReader.html#ad6ab48d38abf1273d9642082ec8f7459">GridFormat::GridReader::number_of_points</a></div><div class="ttdeci">std::size_t number_of_points() const</div><div class="ttdoc">Return the number of points in the grid read from the file.</div><div class="ttdef"><b>Definition:</b> reader.hpp:102</div></div>
<div class="ttc" id="aclassGridFormat_1_1ImageGrid_html"><div class="ttname"><a href="classGridFormat_1_1ImageGrid.html">GridFormat::ImageGrid</a></div><div class="ttdoc">Predefined grid implementation that represents a structured, equispaced grid.</div><div class="ttdef"><b>Definition:</b> image_grid.hpp:41</div></div>
<div class="ttc" id="aclassGridFormat_1_1Reader_html"><div class="ttname"><a href="classGridFormat_1_1Reader.html">GridFormat::Reader</a></div><div class="ttdoc">Interface to the readers for all supported file formats.</div><div class="ttdef"><b>Definition:</b> reader.hpp:94</div></div>
<div class="ttc" id="aclassGridFormat_1_1Writer_html"><div class="ttname"><a href="classGridFormat_1_1Writer.html">GridFormat::Writer</a></div><div class="ttdoc">Interface to the writers for all supported file formats. Depending on the chosen format,...</div><div class="ttdef"><b>Definition:</b> writer.hpp:90</div></div>
<div class="ttc" id="aclassGridFormat_1_1Writer_html_aceba61d4867ddb47d0286827fae8cfc1"><div class="ttname"><a href="classGridFormat_1_1Writer.html#aceba61d4867ddb47d0286827fae8cfc1">GridFormat::Writer::set_meta_data</a></div><div class="ttdeci">void set_meta_data(const std::string &amp;name, Field &amp;&amp;field)</div><div class="ttdoc">Set a meta data field to be added to the output.</div><div class="ttdef"><b>Definition:</b> writer.hpp:194</div></div>
<div class="ttc" id="agridformat_8hpp_html"><div class="ttname"><a href="gridformat_8hpp.html">gridformat.hpp</a></div><div class="ttdoc">This file is the entrypoint to the high-level API exposing all provided readers/writers through a uni...</div></div>
</div><!-- fragment --><p> Many more formats, options and functions are available, see the <a href="https://dglaeser.github.io/gridformat/">API documentation</a> or have a look at the <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/examples">examples</a>.</p>
<h1><a class="anchor" id="installation"></a>
Installation</h1>
<p>The recommended way of using <code>GridFormat</code> is to include it via cmake's <code>FetchContent</code> module (see quickstart). However, if you want to install <code>GridFormat</code> locally into a custom location, clone the repository, enter the folder and type</p>
<div class="fragment"><div class="line">cmake -DCMAKE_INSTALL_PREFIX=$(pwd)/install \</div>
<div class="line">      -DCMAKE_C_COMPILER=/usr/bin/gcc-12 \</div>
<div class="line">      -DCMAKE_CXX_COMPILER=/usr/bin/g++-12 \</div>
<div class="line">      -B build</div>
<div class="line">cmake --install build</div>
</div><!-- fragment --><p>Note that you can omit the explicit definition of <code>C_COMPILER</code> and <code>CXX_COMPILER</code> in case your default compiler is compatible. Moreover, for a system-wide installation you may omit the definition of <code>CMAKE_INSTALL_PREFIX</code>. After installation, you can use <code>cmake</code> to link against <code>GridFormat</code> in your own project:</p>
<div class="fragment"><div class="line">find_package(gridformat)</div>
<div class="line">target_link_libraries(... gridformat::gridformat)</div>
</div><!-- fragment --><h2><a class="anchor" id="dependencies"></a>
Dependencies</h2>
<p><code>GridFormat</code> has no required dependencies, however, some features are only available if certain dependencies are present. For instance, the <a href="https://examples.vtk.org/site/VTKFileFormats/#hdf-file-formats">VTK-HDF file formats</a> are only available if <a href="https://github.com/BlueBrain/HighFive"><code>HighFive</code></a> is found, which itself requires <code>libhdf5-dev</code>. If the latter is found on your system, including <code>GridFormat</code> via cmake's <code>FetchContent</code> (see quickstart) automatically brings in <code>HighFive</code>, as it is included in <code>GridFormat</code> as a git submodule. However, when installing <code>GridFormat</code> from the cloned sources (as described above), make sure to use <code>git clone --recursive</code> in case you want to use the HDF file formats.</p>
<p>The availability of some specific features of a file format may also depend on the availability of certain dependencies. For instance, compression of data (e.g. for the VTK-XML file formats) can only be used if the respective compression libraries are found on the system. Dependencies of those features are stated in the <a href="https://dglaeser.github.io/gridformat/">API documentation</a>.</p>
<h1><a class="anchor" id="commandline-interface"></a>
Command-line interface</h1>
<p><code>GridFormat</code> comes with a few command-line apps that you can build and install alongside the library. To include them in the build, pass the option <code>-DGRIDFORMAT_BUILD_BINARIES=ON</code> to <code>cmake</code> when configuring (see above). For performance reasons, you should set <code>-DCMAKE_BUILD_TYPE=Release</code> when configuring. If successfully built, you can then use the command-line apps to print information on a grid file to the terminal, or convert between different file formats. For instance:</p>
<div class="fragment"><div class="line">gridformat-info my_vti_file.vti        # prints info on the contents of the vti file</div>
<div class="line">gridformat-convert my_vti_file.vti vtu # converts an image grid format (.vti) to vtu format</div>
<div class="line">gridformat-convert my_vti_file.vti vtu encoder=ascii # format options can be set as key-value pairs</div>
<div class="line">gridformat-convert my_vti_file.vti vtu -o some_file  # choose an output filename</div>
</div><!-- fragment --><h1><a class="anchor" id="compatibility-with-userdefined-grids"></a>
Compatibility with user-defined grids</h1>
<p><code>GridFormat</code> does not operate on a specific grid data structure, but instead, it can be made compatible with any user-defined grid types by implementing specializations for a few traits classes. For information on how to do this, please have a look at the <a class="el" href="grid-traits.html#md____w_gridformat_gridformat_docs_pages_traits">traits classes overview</a>, the <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/examples">examples</a>, the predefined <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/gridformat/grid/image_grid.hpp">image grid implementation</a> or the predefined <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/gridformat/traits">traits for several frameworks</a>.</p>
<h1><a class="anchor" id="predefined-traits"></a>
Predefined traits</h1>
<p><code>GridFormat</code> comes with predefined traits for <a href="https://www.dune-project.org/doxygen/2.8.0/classDune_1_1GridView.html">dune grid views</a> (tested dune version: 2.9), <a href="https://www.dealii.org/current/doxygen/deal.II/classTriangulation.html">deal.ii triangulations</a> (tested deal.ii version: 9.4.0), <a href="https://www.cgal.org/">cgal</a> triangulations in <a href="https://doc.cgal.org/latest/Triangulation_2/index.html">2d</a> and <a href="https://doc.cgal.org/latest/Triangulation_3/index.html">3d</a> (tested cgal version: 5.5.2), <a href="https://github.com/FEniCS/dolfinx">dolfinx</a> meshes and function spaces (tested dolfinx version: 0.6.0) and <a href="https://mfem.org/">mfem</a> meshes (tested mfem version: 4.5.2). Users of these frameworks can include these predefined traits and use <code>GridFormat</code> directly (see the <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/examples">examples</a>).</p>
<h1><a class="anchor" id="caveats"></a>
Caveats</h1>
<p>When reading from grid files, <code>GridFormat</code> provides access to the data as specified by the file format. These specifications may not be sufficient in all applications. For instance, to fully instantiate a simulator for parallel computations, information on the grid entities shared by different processes is usually required. Since these requirements are simulator-specific, any further processing has to be done manually by the user and for their data structures. The recommended way to deal with this issue is to add any information required for reinstantiation as data fields to the output. This way, it is readily available when reading the file.</p>
<h1><a class="anchor" id="getting-help"></a>
Getting help</h1>
<p>Find answered questions, ask questions or start discussions through <a href="https://github.com/dglaeser/gridformat/discussions">GitHub Discussions</a>.</p>
<h1><a class="anchor" id="contribution-guidelines"></a>
Contribution Guidelines</h1>
<p>Contributions are highly welcome! For bug reports, please file an <a href="https://github.com/dglaeser/gridformat/issues">issue</a>. If you want to contribute with features, improvements or bug fixes please fork this project and open a merge request into the main branch of this repository.</p>
<h2><a class="anchor" id="development-and-test-suite"></a>
Development and test suite</h2>
<p>In order to configure your local copy for testing, tell <code>cmake</code> to include the test suite:</p>
<div class="fragment"><div class="line"># Note: you may have to set a compiler explicitly (see installation section) {#note-you-may-have-to-set-a-compiler-explicitly-see-installation-section}</div>
<div class="line"> </div>
<div class="line">cmake -DGRIDFORMAT_BUILD_TESTS=ON -B build</div>
</div><!-- fragment --><p>Afterwards, you can build and run all tests with <code>ctest</code>:</p>
<div class="fragment"><div class="line"># Note: use, e.g., ctest -j4 if you want to use 4 processors {#note-use-eg-ctest-j-if-you-want-to-use--processors}</div>
<div class="line"> </div>
<div class="line">cd build</div>
<div class="line">make build_tests</div>
<div class="line">ctest</div>
</div><!-- fragment --><p>Note that an internet connection is required for the call to <code>cmake</code> as it pulls in <a href="https://github.com/boost-ext/ut">ut</a> on-the-fly. Moreover, in the configure step a Python script is invoked that produces some test data using <a href="https://pypi.org/project/vtk/">VTK</a>. If your Python environment does not have <code>VTK</code>, this step is skipped. Note that some tests in the test suite will be skipped in this case.</p>
<h2><a class="anchor" id="creating-a-release"></a>
Creating a release</h2>
<p>To create a release, you may use the utility script <code>util/update_versions.py</code>, which creates a git tag and adjusts the versions and release dates specified in the cmake setup and the <code>CITATION.cff</code> file. For each release we maintain a separate branch for bugfixes and patch releases. As an example, to create a release version <code>1.2.3</code>, you may type the following into the console (assumes a clean repository):</p>
<div class="fragment"><div class="line">git switch --create releases/1.2.3</div>
<div class="line"># ... maybe continue development ... {#maybe-continue-development}</div>
<div class="line"> </div>
<div class="line">python3 util/update_versions.py -v 1.2.3 # modifies versions&amp;dates and creates a commit + tag</div>
<div class="line">git push origin releases/1.2.3</div>
<div class="line">git push origin v1.2.3</div>
</div><!-- fragment --><p>Afterwards, a release workflow will be triggered. If this runs through successfully, a release has been created. If not, the new tag has to be deleted and the procedure has to be repeated after fixing the errors. After a successful release, the version on <code>main</code> should be increased (without triggering an actual release). Following the above example, you may run the following commands:</p>
<div class="fragment"><div class="line">git switch main</div>
<div class="line">git switch --create feature/bump-version</div>
<div class="line">python3 util/update_versions.py -v 1.2.4 --skip-tag # only modifies versions, no commit or tag</div>
<div class="line">git commit -m &quot;bump version to v1.2.4&quot; .</div>
<div class="line">git push origin feature/bump-version</div>
</div><!-- fragment --><p>and pose a pull request for the changes to be incorporated in <code>main</code>.</p>
<h1><a class="anchor" id="license"></a>
License</h1>
<p><code>GridFormat</code> is licensed under the terms and conditions of the MIT License. It can be <a href="https://opensource.org/license/mit/">read online</a> or in the <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/LICENSES/MIT.txt">LICENSES/MIT.txt</a> file. See <a href="https://github.com/dglaeser/gridformat/tree/b51533ad73236d85d3346252a84fdfc4571612ac/LICENSES/MIT.txt">LICENSES/MIT.txt</a> for full copying permissions. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- SPDX-FileCopyrightText: 2022-2023 Dennis Gläser <dennis.glaeser@iws.uni-stuttgart.de> -->
<!-- SPDX-License-Identifier: MIT -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
